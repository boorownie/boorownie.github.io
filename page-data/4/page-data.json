{"componentChunkName":"component---src-templates-page-js","path":"/4","result":{"data":{"markdownRemark":{"frontmatter":{"title":"인수 테스트 알아보기","date":"17 November 2021","path":"/4","author":"Boorownie","excerpt":null,"tags":["인수 테스트"],"series":null,"coverImage":null},"id":"eada4772-e04d-595c-8220-72d2e4007064","html":"<h2>전통적인 인수 테스트(Acceptance Test)</h2>\n<p>Wikipedia에서는 인수 테스트를 <strong>명세(specification) 또는 계약의 요구 사항이 충족되는지 확인하기 위해 수행되는 테스트</strong>라고 설명하고 있습니다.</p>\n<blockquote>\n<p>In engineering and its various subdisciplines, acceptance testing is a test conducted to determine if the requirements of a specification or contract are met.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Acceptance_testing\">Wikipedia - Acceptance testing</a></p>\n</blockquote>\n<p>소프트웨어 제작을 의뢰한 클라이언트가 결과물을 인수 받을 때 계약 명세에 따라 제대로 동작하는지 결정할 때 사용되는 테스트입니다. <code class=\"language-text\">수락</code>, <code class=\"language-text\">받아들임</code>이라는\n뜻을 가지고 있는 Acceptance를 인수로 해석한 이유는 <code class=\"language-text\">인수를 수락한다</code>는 의미로 해석한 것이라고 생각할 수 있습니다.</p>\n<p>사실 인수 테스트라는 용어를 찾아보면 소프트웨어 이외에 다른 분야에서도 찾아볼 수 있습니다.\n네이버 국어사전에서는 다음과 같이 설명되어 있습니다.</p>\n<blockquote>\n<p>[군사] 현장에 새로 설치된 장비를 실제로 운영하기에 앞서 기능과 성늘의 적합성 여부를 살펴보는일</p>\n<p><a href=\"https://ko.dict.naver.com/#/entry/koko/b4b3c7c3d0dc414aa1814995e221ed27\">네이버 국어사전 - 인수 테스트</a></p>\n</blockquote>\n<p>이러한 용어들을 정리해 보면 <strong>요구사항에 따라 잘 동작하는지 최종적으로 검증하는 테스트</strong>라고 정리할 수 있습니다.</p>\n<h2>인수 테스트 in Extreme Programming</h2>\n<p>이 글에서 소개할 인수 테스트는 Extreme Programming(이하 XP)에서 사용되는 인수 테스트를 의미하며,\n그 뜻은 XP의 프로세스에 영향을 받아 전통적인 사용자 인수 테스트와는 약간의 차이가 있습니다.</p>\n<blockquote>\n<p>Acceptance testing is a term used in agile software development methodologies, particularly extreme programming, referring to the functional testing of a user story by the software development team during the implementation phase.\nThe customer specifies scenarios to test when a user story has been correctly implemented.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Acceptance_testing#Acceptance_testing_in_extreme_programming\">Wikipedia - Acceptance testing (Acceptance testing in extreme programming)</a></p>\n</blockquote>\n<p>XP에서 인수 테스트는 구현에 앞서 요구사항을 명세하는 테스트이며, 사용자 스토리를 기능적으로 검증하는 테스트를 의미합니다.\n인수 테스트는 사용자 스토리로부터 만들어 집니다.\n사용자 스토리가 정의되면 테스트할 시나리오가 구체적으로 지정되는데\n인수 테스트는 지정된 시나리오로 동작했을 때 예상되는 결과가 나오는지를 검증합니다.\n참고로 이러한 시나리오는 기능의 요구사항을 의미하는데 인수 테스트가 통과할 조건이라 해서 인수 조건이라 부릅니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f338eb07c2491220705eaa9192c4d42f/984b6/extreme-programming.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaklEQVQoz3VRy46CQBDk/3/J02YvJnswKlHeqICgvBRkNQjUdk0yRg9byYTQM11dVW1k+z0OjgvfslFWFVzXhW3bCMNQfS3LUjXf97HdbuF5HtbrNRzHwTiOIKZpgoZR2w68r2/8zGa4Px5Ij0fEcYzz+YwsyxQZyaMowm63U3V++UYTfRCi7zG2LZqieF32UhuGQf031ytOpxMKude1d/D9+zGiJEaUJGhvN1yluRXy5/OJsiyVMqpppEZ0XYdKYnmIE02gQfuKkFMHIaASNtMmFZIwCAJV+yWhNFApLXOwBvs/LG82m48FpGkK0zQRClkgZKmEnywWCOdzHJZLWJJpIAtarVZIxBm/XBYPhxvc2FEWQatN07wITXlY5Tl6UVMKeSy1XIi6+x11XSsBtM54LpeLIqQjQ0vlJRVyCkFbC1FWSGZqOZJxIsO4XQ7+D4YOU2Uph0qpOhd1uv7KaPrcrlbHHgq4ydA/b4yoTM+jZKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"img.png\"\n        src=\"/static/f338eb07c2491220705eaa9192c4d42f/984b6/extreme-programming.png\"\n        srcset=\"/static/f338eb07c2491220705eaa9192c4d42f/56d15/extreme-programming.png 200w,\n/static/f338eb07c2491220705eaa9192c4d42f/d9f49/extreme-programming.png 400w,\n/static/f338eb07c2491220705eaa9192c4d42f/984b6/extreme-programming.png 630w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>전통적인 사용자 인수 테스트와 XP에서의 인수 테스트의 가장 큰 차이점은 테스트의 목적입니다.\n전통적인 사용자 인수 테스트는 요구사항에 맞춰 잘 동작하는지 최종 단계에서 검증하지만\nXP에서의 인수 테스트는 기능 구현에 앞서 요구사항을 명세하는 목적을 함께 가지고 있으며\n그 요구사항을 정의할 때 고객(XP에서 고객은 요금을 지불하는 사람이 아니라 시스템을 실제로 사용하는 사람, 혹은 요구사항을 정의하는 사람을 의미)과 개발자, 테스터가 함께 합니다.\n(<a href=\"https://en.wikipedia.org/wiki/Extreme_programming_practices#Whole_team\">XP의 Whole Team</a>과 관련된 내용은 이 글에서는 다루지 않고 ATDD를 다루는 글에서 다루도록 하겠습니다.)</p>\n<h2>인수 테스트 특징</h2>\n<p>인수 테스트의 성공은 기능 구현이 완료되었음을 나타냅니다.\n기능을 구현할 때 인수 테스트를 작성하는 것으로 시작하고 이 테스트를 성공 시킬때 까지 기능 구현을 하기 때문에 기능 구현의 끝을 알 수 있습니다.\n이러한 특징으로 인해 인수 테스트의 성공률은 전체 작업의 진척도를 측정하는 수단으로도 활용할 수 있습니다.</p>\n<blockquote>\n<p>우리는 기능을 구현할 때, 만들고자 하는 기능을 수행하는 인수 테스트를 작성하는 것으로 시작한다. 인수 테스트가 실패하는 동안은 시스템이 아직 그 기능을 구현하지 않고 있다는 것을 보여준다; 인수 테스트가 통과되면, 기능 구현은 끝이다.</p>\n<p><a href=\"http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&#x26;ejkGb=KOR&#x26;barcode=9788966260836\">테스트 주도 개발로 배우는 객체 지향 설계와 실천</a></p>\n</blockquote>\n<p>인수 테스트는 블랙박스 테스트의 특징을 가집니다.\n인수 테스트는 코드 기반의 구현 방법이나 사용되는 기술에 대한 검증이 아니라 요구사항이 충족되는지를 검증해야합니다.\n테스트를 구동하는 사람은 해당 프로그램이나 해당 기능에 대한 특정 지식이 필요하지 않고,\n소프트웨어가 무엇을 해야 하는지만 알고 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5ef142d66a0659593f3e3dc5b28eaf5a/dface/black-box.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3ElEQVQY031QOYqEABA0MDEVMRj0PWYekZ/wE77Fl3iALzAQRLxRPEDBC9FaprPdnd2CoumiuiiawQec54kwDOH7PjzPIwZBANd1kWUZ/sLzPGB+Cm+M4wjTNKHrOjRNg6qqMAwDiqLAcZxv3l+BXdchSRIURYF1XbHvO6IoAsMwRFEUwfM8OI6j3bIsOm7bltqmaYo4jqnEG8xxHBiGAfM847ouEvM8x+v1giAIkGUZkiTRZFkWtm2TZ9s2KjBNE/q+pyIU+OkX932jaRrUdY2yLIlVVRGXZfn3h19ebVA0Ua2TegAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_1.png\"\n        title=\"img_1.png\"\n        src=\"/static/5ef142d66a0659593f3e3dc5b28eaf5a/dface/black-box.png\"\n        srcset=\"/static/5ef142d66a0659593f3e3dc5b28eaf5a/56d15/black-box.png 200w,\n/static/5ef142d66a0659593f3e3dc5b28eaf5a/d9f49/black-box.png 400w,\n/static/5ef142d66a0659593f3e3dc5b28eaf5a/dface/black-box.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>마지막으로 이전 반복주기에서 생성한 인수 테스트는 다음 반복주기에서 회귀 테스트로도 사용됩니다.\n테스트 스위트가 증가하면 시스템을 변경할 때 회귀 실패에서 보호받알 수 있습니다.</p>\n<h2>인수 테스트의 구현과 형태</h2>\n<p>상황에 따라 다른 요구사항이 주어졌을 때 인수 테스트의 구현에 대해서 알아보겠습니다.</p>\n<h4>예시 1 - 콘솔 애플리케이션 개발을 위한 인수 테스트</h4>\n<h5>요구사항</h5>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">요구사항\n\n- 콘솔 기반의 로또 애플리케이션을 만든다.\n- 금액을 입력하면 금액에 맞는 갯수의 로또를 구입한다.\n- 지난주 당첨 번호를 입력하면 당첨 결과와 수익률이 계산된다.</code></pre></div>\n<h5>시나리오</h5>\n<p>요구사항대로 정상적으로 동작하는 것을 검증할 수 있는 시나리오를 만들겠습니다.\n최초 시나리오는 정상적으로 애플리케이션이 동작하는 시나리오로 작성했고\n다음으로는 비정상적인 시나리오를 입력합니다.\n(시나리오 기반의 인수 조건을 만드는 과정에서 사용자 스토리를 포함한 XP의 전체 프로세스는 생략했습니다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">정상적인 시나리오\n\n- 10000원을 입력한다.\n- 10장의 로또가 구매된다.\n- 구입한 10장의 로또 번호가 출력된다.\n- 지난주 당첨 번호로 1, 2, 3, 4, 5, 6을 입력한다.\n- 당첨 통계와 수익률이 출력된다. </code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">비정상적인 시나리오 1 - 로또 한장의 가격보다 적은 금액 입력\n\n- 100원을 입력한다.\n- 로또를 구매할 수 없다.</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">비정상적인 시나리오 2 - 유효하지 않은 로또 당첨 번호 입력\n\n- 10000원을 입력한다.\n- 10장의 로또가 구매된다.\n- 지난주 당첨 번호로 1, 1, 1, 1, 1, 1을 입력한다.\n- 당첨 통계와 수익률을 출력할 수 없다.</code></pre></div>\n<h5>인수 테스트 구현</h5>\n<p>정의한 시나리오를 바탕으로 시나리오를 검증할 수 있는 인수 테스트를 만들겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"로또 한장의 가격보다 적은 금액 입력\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">lessPriceThanLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">LottoApplication</span> lottoApplication <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoApplication</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">assertThrows</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n            lottoApplication<span class=\"token punctuation\">.</span><span class=\"token function\">insertMoney</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"유효하지 않은 로또 당첨 번호\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">invalidWinningLottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">LottoApplication</span> lottoApplication <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoApplication</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">Message</span> message <span class=\"token operator\">=</span> lottoApplication<span class=\"token punctuation\">.</span><span class=\"token function\">insertMoney</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"10장의 로또가 구매되었습니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">assertThrows</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n            lottoApplication<span class=\"token punctuation\">.</span><span class=\"token function\">insertWinningLottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"정상 동작 시나리오\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">common</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">LottoApplication</span> lottoApplication <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoApplication</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">Message</span> buyMessage <span class=\"token operator\">=</span> lottoApplication<span class=\"token punctuation\">.</span><span class=\"token function\">insertMoney</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>buyMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"10장의 로또가 구매되었습니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">Message</span> winningMessage <span class=\"token operator\">=</span> lottoApplication<span class=\"token punctuation\">.</span><span class=\"token function\">insertWinningLottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>winningMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"당첨 통계\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>winningMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"당첨 수익률\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h4>예시 2 - API 개발을 위한 인수 테스트</h4>\n<h5>요구사항</h5>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">요구사항\n\n- 지하철을 관리하는 API를 개발한다.\n- 지하철 역 생성, 역 목록 조회, 역 삭제</code></pre></div>\n<h5>시나리오</h5>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">지하철 역 생성 시나리오\n\n- 지하철 역 생성\n- 지하철 역 생성 요청을 한다.\n- 지하철 역이 생성을 되었다.</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">지하철 역 목록 조회 시나리오\n\n- 지하철 역이 생성되어 있다.\n- 지하철 역 목록 조회 요청을 한다.\n- 지하철 역 목록이 응답되었다.</code></pre></div>\n<h5>인수 테스트 구현</h5>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"지하철역 관련 기능\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@SpringBootTest</span><span class=\"token punctuation\">(</span>webEnvironment <span class=\"token operator\">=</span> <span class=\"token class-name\">WebEnvironment</span><span class=\"token punctuation\">.</span>RANDOM_PORT<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">StationAcceptanceTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@LocalServerPort</span>\n    <span class=\"token keyword\">int</span> port<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DatabaseCleanup</span> databaseCleanup<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@BeforeEach</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">setUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">RestAssured</span><span class=\"token punctuation\">.</span>port <span class=\"token operator\">=</span> port<span class=\"token punctuation\">;</span>\n        databaseCleanup<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// DB 초기화 로직</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"지하철 역 생성\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">createStation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> params <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        params<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"강남역\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// when</span>\n        <span class=\"token class-name\">ExtractableResponse</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token punctuation\">></span></span> response <span class=\"token operator\">=</span> <span class=\"token class-name\">RestAssured</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">given</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">contentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>APPLICATION_JSON_VALUE<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/stations\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//then</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">statusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>CREATED<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"지하철 역 목록 조회\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> params <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        params<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"강남역\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">RestAssured</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">given</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">contentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>APPLICATION_JSON_VALUE<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/stations\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">ExtractableResponse</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token punctuation\">></span></span> response <span class=\"token operator\">=</span> <span class=\"token class-name\">RestAssured</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">given</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>APPLICATION_JSON_VALUE<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/stations\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">statusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">StationResponse</span><span class=\"token punctuation\">></span></span> stations <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">jsonPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getList</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">StationResponse</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>stations<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>(API 레벨의 인수 테스트 구현 방법에 대서는 다음글에서 조금 더 구체적으로 알아보겠습니다.)</p>\n<p>여기서 한가지 이상한점이 느껴지시나요?\n인수 테스트인데 어떤건 단위 테스트이고\n어떤건 API 테스트로 보이거나 E2E 테스트로 보일 수 있습니다.\n그러면 여태 내가 끄덕이고 있던 인수 테스트는 E2E 테스트 일까요? API 테스트 일까요? 아니면 통합 테스트나 단위 테스트의 종류일까요?\n<code class=\"language-text\">인수 테스트는 테스트가 검증하고자 하는 대상과 테스트로 검증하려는 로직의 영역에 따라 달라집니다.</code></p>\n<blockquote>\n<p>인수 테스트의 개념은 테스트 의도에 따라 정해지는 것이지 테스트를 어떻게 구현하는지에 따라 정해지는 것이 아니다. 유닛 레벨이나 통합 레벨, 사용자 인터페이스 레벨에서 인수 테스트를 적용할 수 있다. …\n더 나아가, 인수 테스트를 유닛이나 컴포넌트가 의도한 동작을 하는지 확인하는 설계 검증 테스트로 사용할 수 도 있다. 어떤 경우든 인수 테스트는 사용자에게 애플리케이션이 인도될 수 있는 지를 확인한다.</p>\n<p><a href=\"http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&#x26;ejkGb=KOR&#x26;barcode=9788960775619\">린 애자일 기법을 활용한 (인수) 테스트 주도 개발</a></p>\n</blockquote>\n<p>내가 구현할 시스템(애플리케이션)의 종류에 따라 다를 수 있고\n해당 시스템을 활용하는 고객이 누군지, 요구사항이 어떤 것인지에 따라 인수 테스트의 형태는 달라질 수 있습니다.</p>","excerpt":"전통적인 인수 테스트(Acceptance Test) Wikipedia에서는 인수 테스트를 명세(specification) 또는 계약의 요구 사항이 충족되는지 확인하기 위해 수행되는 테스트라고 설명하고 있습니다. In engineering and its…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":"/3","title":"가볍게 시작하는 인수 테스트 주도 개발","tags":["ATDD","TDD","BDD"]},"fileAbsolutePath":"/Users/brown/workspaces/blog-workspaces/boorownie.github.io/src/posts/3.md"},"previous":null}},"staticQueryHashes":["1274017682","3156129305"]}